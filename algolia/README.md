# Process to update the Algolia index

Shippable docs use the Algolia API to power its type ahead search experience. The API uses an index that is created by a node.js application that we have authored. This document describes the process to build the Algolia index file and to upload it to Algolia.

## Building the index file

* Fork and clone the the [`Shippable\docs`](https://github.com/Shippable/docs) repository.
* cd to the `algolia` folder.
* Run `npm install`.
* Run `node app.js`.
* This creates the index file called `index.json` in the `algolia` folder.

## Uploading the file to Algolia

* Sign into Algolia at https://www.algolia.com/.
* In the left navigation bar, click on `indexes`.
* Ensure `rctestindex` is chosen.
* On the top right of the screen, click on `MANAGE CURRENT INDEX` -> `Add manually`.
* Click on the down arrow icon and choose the file generated by the node.js app.
* Once uploaded, run a few searches in the search box to ensure search results are working.
* If you are doing this process for the first time, it is best to choose the `test` index by clicking on the
  drop down next to `Indices` in the top left corner and following the process.

## API usage

* The API is invoked from [search.js](https://github.com/Shippable/docs/blob/master/theme/saas/static/js/search.js).
* The index name is specified [here](https://github.com/Shippable/docs/blob/master/theme/saas/static/js/search.js#L2). To change the index name, create a new index in the Algolia UI and specify it here.
